@model IEnumerable<ProjectModel>
@{
    ViewBag.Subtitulo = "Central de Projetos";
}
<h1 class="text-primary">@ViewBag.Subtitulo</h1>
<hr>


<div class="container">
    <a asp-action="Register" class="btn btn-primary">Novo projeto</a>
    <a asp-action="Index" asp-controller="Home" class="btn btn-danger">Voltar</a>
    <table class="table">
        <thead>
            <th scope="col">Nome</th>
            <th scope="col">Qtd Tarefas</th>
            <th scope="col">Ações</th>
        </thead>
        @if(Model.Count() > 0){
            <tbody>
                @foreach(var p in Model){
                    <tr>
                        <td>@p.ProjectName</td>
                        <td>@p.Tasks?.Count()</td>
                        <td>
                            <a asp-action="RegisterOnProject" asp-controller="Task" asp-route-pid="@p.Id" name="pid"
                                class="btn btn-success"><i class="bi-clipboard-plus-fill" 
                                title="Nova Tarefa"></i></a>
                            
                        </td>
                    </tr>
                }
            </tbody>
        }
        else{
            <p>Não existem projetos registrados ainda.</p>
        }
    </table>
</div>
